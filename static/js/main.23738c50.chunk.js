(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{27:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){e.exports={userCard:"styleUsers_userCard__1UOms",userInfo:"styleUsers_userInfo__21yTP",questionsInfo:"styleUsers_questionsInfo__2EA8v",imgContainer:"styleUsers_imgContainer__3eXk1"}},49:function(e,t,n){"use strict";n.r(t);var s=n(20),o=n.n(s),r=(n(39),n(2)),i=n(1),c=n(7),a=n(3),u=n(21),d=n(22),j=n(11),l=n.n(j),b=n(17),O=n(10),h=n(12),p=n(4),f={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/285/person-with-headscarf_medium-light-skin-tone_1f9d5-1f3fc_1f3fc.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/285/technologist_1f9d1-200d-1f4bb.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/285/man-judge_1f468-200d-2696-fe0f.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},m={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function x(e){return new Promise((function(t,n){var s=e.author,o=function(e){var t=e.optionOneText,n=e.optionTwoText,s=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:s,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){m=Object(p.a)(Object(p.a)({},m),{},Object(h.a)({},o.id,o)),f=Object(p.a)(Object(p.a)({},f),{},Object(h.a)({},s,Object(p.a)(Object(p.a)({},f[s]),{},{questions:f[s].questions.concat([o.id])}))),t(o)}),1e3)}))}function v(e){var t=e.authedUser,n=e.qid,s=e.answer;return new Promise((function(e,o){setTimeout((function(){f=Object(p.a)(Object(p.a)({},f),{},Object(h.a)({},t,Object(p.a)(Object(p.a)({},f[t]),{},{answers:Object(p.a)(Object(p.a)({},f[t].answers),{},Object(h.a)({},n,s))}))),m=Object(p.a)(Object(p.a)({},m),{},Object(h.a)({},n,Object(p.a)(Object(p.a)({},m[n]),{},Object(h.a)({},s,Object(p.a)(Object(p.a)({},m[n][s]),{},{votes:m[n][s].votes.concat([t])}))))),e()}),500)}))}var g,y=Object(O.b)("users/fetchUsers",Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){setTimeout((function(){return e(Object(p.a)({},f))}),1e3)}));case 2:return t=e.sent,n=Object.keys(t).map((function(e){return t[e]})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),w=Object(O.c)({name:"users",initialState:{users:[],authUser:"",loggedIn:!1},reducers:{addUser:function(e,t){e.users.push(t.payload)},setAuthUser:function(e,t){e.authUser=t.payload},setLoggedIn:function(e,t){e.loggedIn=t.payload},setLogOut:function(e,t){e.loggedIn=!1}},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){e.users=t.payload}))}}),q=function(e){return e.users.users},k=function(e){return e.users.users.find((function(t){return t.id===e.users.authUser.id}))},T=w.actions,C=(T.addUser,T.setAuthUser),U=T.setLoggedIn,z=(T.setLogOut,T.loggedIn,w.reducer),I=n(0),L=d.a.ul(g||(g=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  & > a {\n    list-style: none;\n    margin: 0 10px;\n  }\n"])));var _=function(){return Object(I.jsxs)(L,{className:"navbar",children:[Object(I.jsx)(c.b,{to:"/home",children:"Dashboard"}),Object(I.jsx)(c.b,{to:"/leaderboard",children:"Leaderboard"}),Object(I.jsx)(c.b,{to:"/add",children:"Add"})]})};var Q,S=function(e){var t=e.handleClick;return Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"center"},children:[Object(I.jsx)("button",{type:"button",value:"allQuestions",onClick:t,children:"All Questions"}),Object(I.jsx)("button",{type:"button",value:"myQuestions",onClick:t,children:"My Questions"}),Object(I.jsx)("button",{type:"button",value:"unansweredQuestions",onClick:t,children:"Unanswered Questions"}),Object(I.jsx)("button",{type:"button",value:"answeredQuestions",onClick:t,children:"Answered Questions"})]})},N=d.a.div(Q||(Q=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),A=function(){var e=Object(r.c)((function(e){return e.users.loggedIn})),t=Object(r.c)(k),n=Object(r.b)(),s=Object(a.g)();return Object(I.jsxs)(N,{children:[Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",width:"70%"},children:[Object(I.jsx)("h2",{children:"Would you rather...?"}),Object(I.jsx)("button",{type:"button",onClick:function(){e?n(U(!1))&&n(C("")):s.push("/login")},style:{height:"50px"},children:e?"Log Out":"Log In"})]}),Object(I.jsxs)("div",{children:[t?Object(I.jsxs)("p",{children:["Welcome, ",t.name]}):Object(I.jsx)("p",{children:"Welcome!"}),Object(I.jsx)(_,{})]})]})},D=n(34);var F=function(e){var t=e.children,n=Object(D.a)(e,["children"]),s=Object(r.c)(k);return Object(I.jsx)(a.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){var n=e.location;return s?t:Object(I.jsx)(a.a,{to:{pathname:"/login",state:{from:n}}})}}))},R=n(19),P=n(24),W=Object(O.b)("questions/fetchQuestions",Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){setTimeout((function(){return e(Object(p.a)({},m))}),1e3)}));case 2:return t=e.sent,n=Object.keys(t).map((function(e){return t[e]})).sort((function(e,t){return t.timestamp-e.timestamp})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),E=Object(O.b)("questions/addQuestion",function(){var e=Object(b.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(O.b)("questions/addAnswer",function(){var e=Object(b.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(O.c)({name:"questions",initialState:{questions:[],status:"idle",error:null},reducers:{another:function(e,t){e.questions.push(t.payload)}},extraReducers:function(e){e.addCase(W.pending,(function(e,t){e.status="loading"})).addCase(W.fulfilled,(function(e,t){e.status="succeeded",e.questions=[],e.questions=e.questions.concat(t.payload)})).addCase(W.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(E.fulfilled,(function(e,t){e.questions.push(t.payload)}))}}),B=function(e){return e.questions.questions},V=(M.actions.another,M.reducer),$=(n(27),function(e){var t=e.timestamp,n="",s="";if(t){var o=new Date(t),r=o.toLocaleTimeString("en-US");n="".concat(r.substr(0,4)," ").concat(r.slice(-2)),s=o.toLocaleDateString("en-US")}return Object(I.jsxs)("span",{title:t,children:[n,"\xa0|\xa0",s]})}),G=function(){var e,t=Object(r.b)(),n=Object(r.c)(q),s=Object(a.g)(),o=(Object(a.h)().state||{from:{pathname:"/"}}).from;return e=n.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.name},e.id)})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h3",{children:"Login"}),Object(I.jsxs)("select",{onChange:function(e){t(C(n.find((function(t){return t.id===e.target.value})))),t(U(!0)),s.replace(o)},defaultValue:"default",children:[Object(I.jsx)("option",{value:"default",disabled:!0,children:"Select a User"}),e]})]})},H=function(e){var t=e.question,n=Object(r.c)((function(e){return function(e,t){return e.users.users.find((function(e){return e.id===t}))}(e,t.author)})),s=Object(r.c)(k),o=Object(r.b)(),i=!1,u=Object(a.g)(),d=(Object(a.h)().state||{from:{pathname:"/login"}}).from,j=t.optionOne.votes.length,l=t.optionTwo.votes.length,b=parseInt(j/(j+l)*100,10),O=parseInt(l/(j+l)*100,10),h=null;s&&Object.keys(s.answers).includes(t.id)&&(i=!0,t.optionOne.votes.includes(s.id)?h="optionOne":t.optionTwo.votes.includes(s.id)&&(h="optionTwo"));var p={backgroundColor:"blue",color:"white",borderRadius:"5px"};function f(e){if(e.preventDefault(),s&&!i){var n={authedUser:s.id,qid:t.id,answer:e.target.value};o(J(n)),o(W()),o(y())}else s||u.replace(d)}return Object(I.jsxs)("div",{className:"questionContainer",children:[Object(I.jsxs)("div",{className:"questionHeader",children:[Object(I.jsx)("div",{className:"imgContainer",children:Object(I.jsx)("img",{src:n.avatarURL,alt:n.name})}),Object(I.jsx)("h4",{children:n.name})]}),Object(I.jsx)($,{timestamp:t.timestamp}),Object(I.jsxs)("div",{className:"questionBody",children:[Object(I.jsx)("h5",{children:"Would you rather..."}),Object(I.jsxs)("div",{className:"questionChoices",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("button",{type:"button",value:"optionOne",style:"optionOne"===h?p:null,onClick:f,children:t.optionOne.text}),i?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:["Number of people answered: ",j]}),Object(I.jsx)("p",{children:"".concat(b,"%")})]}):null]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("button",{type:"button",style:"optionTwo"===h?p:null,value:"optionTwo",onClick:f,children:t.optionTwo.text}),i?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:["Number of people answered: ",l]}),Object(I.jsx)("p",{children:"".concat(O,"%")})]}):null]})]})]}),Object(I.jsx)(c.b,{to:"/question/".concat(t.id),children:"View Question"})]})},X=function(){var e,t=Object(r.b)(),n=Object(r.c)(B),s=Object(P.a)(n).sort((function(e,t){return t.timestamp-e.timestamp})),o=Object(r.c)(k),c=Object(r.c)((function(e){return e.questions.status})),a=Object(i.useState)(""),u=Object(R.a)(a,2),d=u[0],j=u[1];return"loading"===c?e=Object(I.jsx)("p",{children:"Loading..."}):"succeeded"===c?e=s.map((function(e){return Object(I.jsx)(H,{class:"questionContainer",question:e},e.id)})):"failed"===c&&(e=Object(I.jsx)("p",{children:"Failed"})),Object(i.useEffect)((function(){if("idle"===c&&t(W()),o){var n=s.filter((function(e){return!Object.keys(o.answers).includes(e.id)})).map((function(e){return Object(I.jsx)(H,{question:e},e.id)}));j(n)}else j(e)}),[c,o,n]),Object(I.jsxs)(I.Fragment,{children:[o?Object(I.jsx)(S,{handleClick:function(t){switch(t.target.value){case"myQuestions":var n=s.filter((function(e){return e.author===o.id})).map((function(e){return Object(I.jsx)(H,{question:e},e.id)}));j(n);break;case"answeredQuestions":var r=s.filter((function(e){return Object.keys(o.answers).includes(e.id)})).map((function(e){return Object(I.jsx)(H,{question:e},e.id)}));j(r);break;case"unansweredQuestions":var i=s.filter((function(e){return!Object.keys(o.answers).includes(e.id)})).map((function(e){return Object(I.jsx)(H,{question:e},e.id)}));j(i);break;default:j(e)}}}):null,Object(I.jsx)("article",{className:"questionsListContainer",children:d})]})};var K=function(){return Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"404: Page Not Found"})})},Y=function(){var e=Object(a.i)().id,t=Object(r.c)((function(t){return function(e,t){return e.questions.questions.find((function(e){return e.id===t}))}(t,e)})),n=Object(r.c)(k);return n&&t?Object(I.jsx)(H,{question:t}):n?Object(I.jsx)(K,{}):Object(I.jsx)(G,{})},Z=(n(48),function(e){var t=e.user;return Object(I.jsxs)("div",{className:"userCard",children:[Object(I.jsxs)("div",{className:"userInfo",children:[Object(I.jsx)("div",{className:"imgContainer",children:Object(I.jsx)("img",{src:t.avatarURL,alt:"".concat(t.name)})}),Object(I.jsx)("div",{children:t.name})]}),Object(I.jsx)("h4",{children:"Questions"}),Object(I.jsxs)("div",{className:"questionsInfo",children:[Object(I.jsxs)("div",{children:["Asked ",t.questions.length]}),Object(I.jsxs)("div",{children:["Answered ",Object.keys(t.answers).length]})]})]})}),ee=function(){var e=Object(r.c)(q);return Object(P.a)(e).sort((function(e,t){return t.questions.length+Object.keys(t.answers).length-(e.questions.length+Object.keys(e.answers).length)})).map((function(e){return Object(I.jsx)(Z,{user:e},e.id)}))},te=function(){var e=Object(r.b)(),t=Object(r.c)(k),n=Object(a.g)(),s=Object(i.useState)(""),o=Object(R.a)(s,2),c=o[0],u=o[1],d=Object(i.useState)(""),j=Object(R.a)(d,2),l=j[0],b=j[1];function O(e){"optionOne"===e.target.name?u(e.target.value):b(e.target.value)}return Object(I.jsxs)("form",{children:[Object(I.jsx)("h3",{children:"Would you rather?"}),Object(I.jsxs)("label",{htmlFor:"optionOne",children:["Option One:"," ",Object(I.jsx)("input",{type:"text",name:"optionOne",id:"optionOne",value:c,onChange:O})]}),Object(I.jsxs)("label",{htmlFor:"optionTwo",children:["Option Two:"," ",Object(I.jsx)("input",{type:"text",name:"optionTwo",id:"optionTwo",value:l,onChange:O})]}),Object(I.jsx)("button",{type:"button",onClick:function(s){s.preventDefault(),e(E({author:t.id,optionOneText:c,optionTwoText:l})),e(y()),n.push("/home")},children:"Add Question"})]})},ne=function(){return Object(I.jsx)(c.a,{children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(A,{}),Object(I.jsxs)(a.d,{children:[Object(I.jsx)(a.b,{exact:!0,path:"/login",children:Object(I.jsx)(G,{})}),Object(I.jsx)(a.b,{exact:!0,path:["/home/questions","/home","/","/would-you-rather"],children:Object(I.jsx)(X,{})}),Object(I.jsx)(F,{exact:!0,path:"/leaderboard",children:Object(I.jsx)(ee,{})}),Object(I.jsx)(F,{exact:!0,path:"/question/:id",children:Object(I.jsx)(Y,{})}),Object(I.jsx)(F,{exact:!0,path:"/add",children:Object(I.jsx)(te,{})}),Object(I.jsx)(a.b,{path:"*",children:Object(I.jsx)(K,{})})]})]})})},se=Object(O.a)({reducer:{questions:V,users:z}});se.dispatch(y()),o.a.render(Object(I.jsx)(r.a,{store:se,children:Object(I.jsx)(ne,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.23738c50.chunk.js.map